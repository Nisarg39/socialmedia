(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9480:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=a(7096),r=a(6132),n=a(7284),o=a.n(n),l=a(2564),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);a.d(t,i);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9996)),"/Users/nash/Documents/FrontEnd Development/nodews/socialmedia/client/app/page.js"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1797)),"/Users/nash/Documents/FrontEnd Development/nodews/socialmedia/client/app/layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/nash/Documents/FrontEnd Development/nodews/socialmedia/client/app/page.js"],u="/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2977:(e,t,a)=>{Promise.resolve().then(a.bind(a,7213))},7213:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>em});var s=a(3854),r=a(4218),n=a(1018),o=a(1956),l=a.n(o),i=a(2758);let c=e=>(0,s.jsxs)("div",{className:"w-9/12 h-80 w-8/12 bg-black flex flex-wrap rounded-xl p-4 border-double border-4 shadow-lg hover:shadow-slate-600 justify-self-center",children:[s.jsx("div",{className:"mr-2 place-self-start max-h-24",children:(0,s.jsxs)(i.qE,{children:[s.jsx(i.F$,{src:`https://peach-4m9r.onrender.com/${e.post.postedBy.profilepic}`}),s.jsx(i.Q5,{children:"CN"})]})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"self-center text-base font-extralight",children:e.post.postedBy.name}),(0,s.jsxs)("p",{className:"text-xs text-stone-400 thin",children:["@",e.post.postedBy.username]})]}),s.jsx("p",{className:"w-full text-sm text-stone-300 pt-6 pb-2 pl-2 font-extralight line-clamp-3 whitespace-normal",children:e.post.captions}),e.post.mediaLinks.length>0?s.jsx("div",{className:"container h-40 w-full flex justify-center items-stretch gap-2  overflow-x-scroll no-scrollbar",children:e.post.mediaLinks.map(e=>s.jsx(l(),{src:`https://peach-4m9r.onrender.com/${e}`,width:200,height:200,style:{width:"auto",height:"auto"},alt:"postpics",className:"rounded-md object-cover"}))}):null]});var d=a(3847),u=a(3058),p=a(733);let m=()=>{let[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[l,i]=(0,r.useState)(!1),[c,m]=(0,r.useState)("");async function f(t){try{let t=await d.Z.post("https://peach-4m9r.onrender.com/api/user/signin",{username:e,password:a},{headers:{"Content-type":"application/x-www-form-urlencoded;charset=UTF-8"}});t&&(i(!0),m(t.data.message),localStorage.setItem("jwt",t.data.token))}catch(e){i(!1),m("invalid username or password")}}return(0,n.useRouter)(),(0,s.jsxs)("div",{className:"bg-black p-8 rounded-xl w-80 max-w-80 grid content-center",children:[(0,s.jsxs)("form",{onSubmit:f,className:"flex flex-col gap-8 w-64",children:[s.jsx(u.I,{type:"text",name:"username",placeholder:"Username",value:e,onChange:e=>t(e.target.value)}),s.jsx(u.I,{type:"password",name:"password",placeholder:"Password",value:a,onChange:e=>o(e.target.value)}),s.jsx(p.z,{type:"submit",className:"text-white bg-gradient-to-r from-indigo-500 from-30% bg-pink-500",children:"SIGN IN"})]}),s.jsx("h1",{children:c})]})},f=()=>{let[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[l,i]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),h=(0,n.useRouter)();async function x(t){t.preventDefault();try{let t=await d.Z.post("https://peach-4m9r.onrender.com/api/user/signup",{name:e,email:l,password:c,username:a},{headers:{"Content-type":"application/x-www-form-urlencoded;charset=UTF-8"}});g(t.data.message),h.push("/signin")}catch(e){console.log(e)}}return(0,r.useEffect)(()=>{let e=localStorage.getItem("jwt");e&&h.push("/")}),(0,s.jsxs)("div",{className:"bg-black p-8 rounded-xl h-auto w-auto",children:[(0,s.jsxs)("form",{onSubmit:x,className:"flex flex-col gap-8 w-64",children:[s.jsx(u.I,{type:"text",name:"name",placeholder:"Name",value:e,onChange:e=>t(e.target.value)}),s.jsx(u.I,{type:"text",name:"username",placeholder:"Username",value:a,onChange:e=>o(e.target.value)}),s.jsx(u.I,{type:"email",name:"email",placeholder:"Email",value:l,onChange:e=>i(e.target.value)}),s.jsx(u.I,{type:"password",name:"password",placeholder:"password",value:c,onChange:e=>m(e.target.value)}),s.jsx(p.z,{type:"submit",className:"text-white bg-gradient-to-r from-indigo-500 from-30% bg-pink-500",children:" SIGN UP "})]}),s.jsx("h1",{children:f})]})};var g=a(4160);let h=()=>{let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1);async function i(t){t.preventDefault();let a=localStorage.getItem("jwt"),s=new FormData;s.append("captions",t.target[0].value);for(let t=0;t<e.length;t++)s.append("postpics",e[t]);(async function(){await d.Z.post("https://peach-4m9r.onrender.com/api/user/profile/uploadpost",s,{headers:{Authorization:a}})})()}return s.jsx("div",{className:"w-8/12 gap-2 h-16 pt-2 bg-black rounded-lg",children:(0,s.jsxs)("form",{onSubmit:i,className:"flex p-0",children:[s.jsx("div",{className:"basis-9/12",children:s.jsx(u.I,{name:"captions",placeholder:"Write Something ...",required:!0})}),(0,s.jsxs)("div",{className:"basis-10",children:[s.jsx("label",{for:"files",children:s.jsx("img",{src:"https://img.icons8.com/ios-filled/100/FFFFFF/apple-camera.png",alt:"upload"})}),s.jsx(u.I,{type:"file",id:"files",multiple:!0,name:"postPic",style:{visibility:"hidden"},onChange:e=>{let a=e.target.files,s=["image/jpeg","image/png","image/gif"];for(let e=0;e<a.length;e++)if(!s.includes(a[e]?.type)){l(!0),n("Only JPEG, PNG & JPG images are allowed.");return}l(!1),t(a)}})]}),s.jsx("div",{className:"basis-10 ml-10",children:s.jsx(p.z,{type:"submit",name:"Post",variant:"outline",children:"POST"})})]})})};var x=a(4574),v=a(3836),w=a(4667),j=a(1951),b=a(5864),y=a(7792),N=a(6026),_=a(6938),D=a(9152),E=a(4783),C=a(5572),k=a(9280),P=a(3507),R=a(8616),S=a(4845),F=a(5001);let I="Dialog",[q,M]=(0,b.b)(I),[O,Z]=q(I),A=(0,r.forwardRef)((e,t)=>{let{__scopeDialog:a,...s}=e,n=Z("DialogTrigger",a),o=(0,j.e)(t,n.triggerRef);return(0,r.createElement)(k.WV.button,(0,v.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":ee(n.open)},s,{ref:o,onClick:(0,w.M)(e.onClick,n.onOpenToggle)}))}),z="DialogPortal",[G,U]=q(z,{forceMount:void 0}),W="DialogOverlay",T=(0,r.forwardRef)((e,t)=>{let a=U(W,e.__scopeDialog),{forceMount:s=a.forceMount,...n}=e,o=Z(W,e.__scopeDialog);return o.modal?(0,r.createElement)(C.z,{present:s||o.open},(0,r.createElement)(L,(0,v.Z)({},n,{ref:t}))):null}),L=(0,r.forwardRef)((e,t)=>{let{__scopeDialog:a,...s}=e,n=Z(W,a);return(0,r.createElement)(R.Z,{as:F.g7,allowPinchZoom:!0,shards:[n.contentRef]},(0,r.createElement)(k.WV.div,(0,v.Z)({"data-state":ee(n.open)},s,{ref:t,style:{pointerEvents:"auto",...s.style}})))}),$="DialogContent",B=(0,r.forwardRef)((e,t)=>{let a=U($,e.__scopeDialog),{forceMount:s=a.forceMount,...n}=e,o=Z($,e.__scopeDialog);return(0,r.createElement)(C.z,{present:s||o.open},o.modal?(0,r.createElement)(V,(0,v.Z)({},n,{ref:t})):(0,r.createElement)(H,(0,v.Z)({},n,{ref:t})))}),V=(0,r.forwardRef)((e,t)=>{let a=Z($,e.__scopeDialog),s=(0,r.useRef)(null),n=(0,j.e)(t,a.contentRef,s);return(0,r.useEffect)(()=>{let e=s.current;if(e)return(0,S.Ry)(e)},[]),(0,r.createElement)(X,(0,v.Z)({},e,{ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,w.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=a.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,w.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey,s=2===t.button||a;s&&e.preventDefault()}),onFocusOutside:(0,w.M)(e.onFocusOutside,e=>e.preventDefault())}))}),H=(0,r.forwardRef)((e,t)=>{let a=Z($,e.__scopeDialog),s=(0,r.useRef)(!1),n=(0,r.useRef)(!1);return(0,r.createElement)(X,(0,v.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,o;null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented||(s.current||null===(o=a.triggerRef.current)||void 0===o||o.focus(),t.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:t=>{var r,o;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(n.current=!0));let l=t.target,i=null===(o=a.triggerRef.current)||void 0===o?void 0:o.contains(l);i&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}}))}),X=(0,r.forwardRef)((e,t)=>{let{__scopeDialog:a,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:o,...l}=e,i=Z($,a),c=(0,r.useRef)(null),d=(0,j.e)(t,c);return(0,P.EW)(),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(D.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:o},(0,r.createElement)(_.XB,(0,v.Z)({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":ee(i.open)},l,{ref:d,onDismiss:()=>i.onOpenChange(!1)}))),!1)}),J="DialogTitle",K=(0,r.forwardRef)((e,t)=>{let{__scopeDialog:a,...s}=e,n=Z(J,a);return(0,r.createElement)(k.WV.h2,(0,v.Z)({id:n.titleId},s,{ref:t}))}),Q=(0,r.forwardRef)((e,t)=>{let{__scopeDialog:a,...s}=e,n=Z("DialogDescription",a);return(0,r.createElement)(k.WV.p,(0,v.Z)({id:n.descriptionId},s,{ref:t}))}),Y=(0,r.forwardRef)((e,t)=>{let{__scopeDialog:a,...s}=e,n=Z("DialogClose",a);return(0,r.createElement)(k.WV.button,(0,v.Z)({type:"button"},s,{ref:t,onClick:(0,w.M)(e.onClick,()=>n.onOpenChange(!1))}))});function ee(e){return e?"open":"closed"}let[et,ea]=(0,b.k)("DialogTitleWarning",{contentName:$,titleName:J,docsSlug:"dialog"});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var es={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let er=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),en=((e,t)=>{let a=(0,r.forwardRef)(({color:a="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:l="",children:i,...c},d)=>(0,r.createElement)("svg",{ref:d,...es,width:s,height:s,stroke:a,strokeWidth:o?24*Number(n)/Number(s):n,className:["lucide",`lucide-${er(e)}`,l].join(" "),...c},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(i)?i:[i]]));return a.displayName=`${e}`,a})("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var eo=a(1656);let el=e=>{let{__scopeDialog:t,children:a,open:s,defaultOpen:n,onOpenChange:o,modal:l=!0}=e,i=(0,r.useRef)(null),c=(0,r.useRef)(null),[d=!1,u]=(0,N.T)({prop:s,defaultProp:n,onChange:o});return(0,r.createElement)(O,{scope:t,triggerRef:i,contentRef:c,contentId:(0,y.M)(),titleId:(0,y.M)(),descriptionId:(0,y.M)(),open:d,onOpenChange:u,onOpenToggle:(0,r.useCallback)(()=>u(e=>!e),[u]),modal:l},a)},ei=e=>{let{__scopeDialog:t,forceMount:a,children:s,container:n}=e,o=Z(z,t);return(0,r.createElement)(G,{scope:t,forceMount:a},r.Children.map(s,e=>(0,r.createElement)(C.z,{present:a||o.open},(0,r.createElement)(E.h,{asChild:!0,container:n},e))))},ec=r.forwardRef(({className:e,...t},a)=>s.jsx(T,{ref:a,className:(0,eo.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ec.displayName=T.displayName;let ed=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(ei,{children:[s.jsx(ec,{}),(0,s.jsxs)(B,{ref:r,className:(0,eo.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,s.jsxs)(Y,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(en,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ed.displayName=B.displayName;let eu=r.forwardRef(({className:e,...t},a)=>s.jsx(K,{ref:a,className:(0,eo.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));eu.displayName=K.displayName;let ep=r.forwardRef(({className:e,...t},a)=>s.jsx(Q,{ref:a,className:(0,eo.cn)("text-sm text-muted-foreground",e),...t}));function em(){let[e,t]=(0,r.useState)("Loading"),[a,o]=(0,r.useState)(""),[i,d]=(0,r.useState)(!1),[u,v]=(0,r.useState)([]),[w,j]=(0,r.useState)(""),[b,y]=(0,r.useState)([]);(0,n.useRouter)();let N=x.ZP.connect("https://peach-4m9r.onrender.com");return(0,r.useEffect)(()=>{(async function(){let e=localStorage.getItem("jwt");if(e){let t=await (0,g.P)(e);o(t.data.user.name),d(t.isAuthenticated),v(t.data.user.feed),y(t.data.user.followedList),N.on("connect",()=>{}),N.emit("join_room",{}),N.on("notification",function(e){console.log("inside navbar socket data - ",e),setNotificationCount(notificationCount+1)})}else d(!1)})()},[]),s.jsx("div",{children:s.jsx("div",{className:"container flex justify-center p-0",style:{minWidth:"100%",minHeight:"100%",maxHeight:"89vh"},children:i?s.jsx(s.Fragment,{children:(0,s.jsxs)("span",{className:"basis-6/12 overflow-y-auto flex flex-col space-y-4 items-center scroll-smooth no-scrollbar overscroll-none",children:[s.jsx(h,{}),0!=u.length?s.jsx(s.Fragment,{children:u.map(e=>s.jsx(c,{post:e}))}):s.jsx("p",{children:"Your feed is empty .Follow the people you know to get some content"})]})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"basis-6/12 flex place-items-center justify-end bg-black",children:s.jsx(l(),{src:"/hero.png",height:500,width:500})}),(0,s.jsxs)("span",{className:"basis-6/12 flex place-items-center justify-center bg-black",children:[(0,s.jsxs)(el,{children:[s.jsx(A,{asChild:!0,children:s.jsx(p.z,{className:"mr-8",children:"SIGN IN"})}),s.jsx(ed,{className:"sm:max-w-[380px] p-4 bg-black",children:s.jsx(m,{})})]}),(0,s.jsxs)(el,{children:[s.jsx(A,{asChild:!0,children:s.jsx(p.z,{variant:"outline",children:"SIGN UP"})}),s.jsx(ed,{className:"sm:max-w-[380px] p-4 bg-black",children:s.jsx(f,{})})]})]})]})})})}ep.displayName=Q.displayName},1018:(e,t,a)=>{"use strict";e.exports=a(7804)},9996:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(4656),r=a(5153);let n=(0,r.createProxy)(String.raw`/Users/nash/Documents/FrontEnd Development/nodews/socialmedia/client/components/Home.js`),{__esModule:o,$$typeof:l}=n,i=n.default;function c(){return s.jsx("div",{children:s.jsx(i,{})})}},7481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(8531);let r=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[271,942,323,58],()=>a(9480));module.exports=s})();